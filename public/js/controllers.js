// Generated by CoffeeScript 1.6.2
'use strict';
var AppCtrl, DialogCtrl, GameCtrl, SignInCtrl, TodoCtrl;

DialogCtrl = (function() {
  function DialogCtrl($scope, $http, $dialog) {
    var _this = this;

    this.$scope = $scope;
    this.$http = $http;
    this.$dialog = $dialog;
    this.$scope.opts = {
      templateUrl: 'modal/signIn',
      controller: SignInCtrl
    };
    this.$scope.openSignIn = function() {
      var d;

      d = _this.$dialog.dialog(_this.$scope.opts);
      return d.open().then(function(result) {
        _this.$scope.didSignIn = result;
        return console.log(result);
      });
    };
  }

  DialogCtrl.$inject = ['$scope', '$http', '$dialog'];

  return DialogCtrl;

})();

AppCtrl = (function() {
  function AppCtrl($scope, $http) {
    this.$scope = $scope;
    this.$http = $http;
    this.getName();
  }

  AppCtrl.prototype.getName = function() {
    var _this = this;

    return this.$http({
      method: 'GET',
      url: '/api/name'
    }).success(function(data, status, headers, config) {
      return _this.$scope.name = data.name;
    }).error(function(data, status, headers, config) {
      return _this.$scope.name = 'Error!';
    });
  };

  AppCtrl.$inject = ['$scope', '$http'];

  return AppCtrl;

})();

GameCtrl = (function() {
  function GameCtrl($scope, $http, Game) {
    var _this = this;

    this.$scope = $scope;
    this.$http = $http;
    this.$scope.games = [];
    this.$scope.feedback = [];
    this.$scope.games = Game.query();
    this.$scope.problems = [];
    this.$scope.$watch("selectedGameId", function() {
      if (_this.$scope.selectedGameId != null) {
        return _this.$scope.selectedGame = Game.get({
          id: _this.$scope.selectedGameId
        }, function(Game) {
          return _this.$scope.score = Game.score;
        });
      }
    });
  }

  GameCtrl.$inject = ['$scope', '$http', 'Game'];

  return GameCtrl;

})();

TodoCtrl = (function() {
  function TodoCtrl($scope, $http, Todo) {
    this.$scope = $scope;
    this.$http = $http;
    this.$scope.todos = [];
    this.$scope.todos = Todo.query();
  }

  TodoCtrl.$inject = ['$scope', '$http', 'Todo'];

  return TodoCtrl;

})();

SignInCtrl = (function() {
  function SignInCtrl($scope, $http, User, dialog) {
    var _this = this;

    this.$scope = $scope;
    this.$http = $http;
    this.dialog = dialog;
    this.$scope.user = {};
    this.$scope.close = function(result) {
      return _this.dialog.close(result);
    };
  }

  SignInCtrl.$inject = ['$scope', '$http', 'User', 'dialog'];

  return SignInCtrl;

})();
